# TEMU æ™ºèƒ½å‡ºå›¾ç³»ç»Ÿ - æ¶æ„è¯´æ˜

> æ ¸å¿ƒä½œè€…: ä¼é¹…  
> ç‰ˆæœ¬: V6.5

## ğŸ“ ç³»ç»Ÿæ¶æ„

### æ•´ä½“æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ç”¨æˆ·æµè§ˆå™¨                             â”‚
â”‚                     http://localhost:8501                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Streamlit Web UI                         â”‚
â”‚                        (app.py)                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  â€¢ ç”¨æˆ·è®¤è¯                                           â”‚   â”‚
â”‚  â”‚  â€¢ å›¾ç‰‡ä¸Šä¼                                            â”‚   â”‚
â”‚  â”‚  â€¢ å‚æ•°é…ç½®                                           â”‚   â”‚
â”‚  â”‚  â€¢ ç»“æœå±•ç¤º                                           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚               â”‚                â”‚
             â–¼               â–¼                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Config Module  â”‚ â”‚  Rules Engine  â”‚ â”‚ Usage Tracker   â”‚
â”‚  (config.py)    â”‚ â”‚  (rules.py)    â”‚ â”‚(usage_tracker.py)â”‚
â”‚                 â”‚ â”‚                â”‚ â”‚                 â”‚
â”‚ â€¢ é…ç½®ç®¡ç†      â”‚ â”‚ â€¢ æ•æ„Ÿè¯æ›¿æ¢   â”‚ â”‚ â€¢ é…é¢æ£€æŸ¥      â”‚
â”‚ â€¢ ç¯å¢ƒå˜é‡      â”‚ â”‚ â€¢ ç¦ç”¨è¯æ£€æŸ¥   â”‚ â”‚ â€¢ ä½¿ç”¨ç»Ÿè®¡      â”‚
â”‚ â€¢ å‚æ•°éªŒè¯      â”‚ â”‚ â€¢ è´Ÿå‘è¯æ„å»º   â”‚ â”‚ â€¢ æ•°æ®æŒä¹…åŒ–    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Template System                           â”‚
â”‚                    (templates.py)                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  C1: ä¸»å–ç‚¹å›¾  â”‚  C2: åœºæ™¯å›¾  â”‚  C3: ç»†èŠ‚å›¾         â”‚   â”‚
â”‚  â”‚  C4: å¯¹æ¯”å›¾    â”‚  C5: è§„æ ¼å›¾                        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Gemini AI Client                           â”‚
â”‚                  (gemini_client.py)                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  â€¢ å›¾ç‰‡åˆ†æ (analyze_product_image)                  â”‚   â”‚
â”‚  â”‚  â€¢ å›¾ç”Ÿå›¾ (generate_image_from_reference)            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Google Gemini API                         â”‚
â”‚                 (gemini-2.0-flash-exp)                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ—‚ï¸ æ¨¡å—è¯´æ˜

### 1. åº”ç”¨å±‚ (app.py)

**èŒè´£**: Web ç•Œé¢å’Œç”¨æˆ·äº¤äº’

**æ ¸å¿ƒåŠŸèƒ½**:
- ç”¨æˆ·ç™»å½•è®¤è¯
- æ–‡ä»¶ä¸Šä¼ å¤„ç†
- å‚æ•°é…ç½®ç•Œé¢
- ç”Ÿæˆæµç¨‹æ§åˆ¶
- ç»“æœå±•ç¤ºå’Œä¸‹è½½

**å…³é”®æµç¨‹**:
```python
ç™»å½• â†’ ä¸Šä¼ å›¾ç‰‡ â†’ å¡«å†™ä¿¡æ¯ â†’ é€‰æ‹©æ¨¡æ¿ 
  â†’ è®¾ç½®å‚æ•° â†’ AI åˆ†æ â†’ å›¾ç‰‡ç”Ÿæˆ â†’ ä¸‹è½½ç»“æœ
```

### 2. é…ç½®æ¨¡å— (config.py)

**èŒè´£**: ç»Ÿä¸€é…ç½®ç®¡ç†

**æ ¸å¿ƒç±»**: `Config`

**é…ç½®é¡¹**:
- åº”ç”¨ä¿¡æ¯ (åç§°ã€ç‰ˆæœ¬ã€ä½œè€…)
- è·¯å¾„é…ç½® (æ•°æ®ç›®å½•ã€ä½¿ç”¨æ–‡ä»¶)
- è®¤è¯é…ç½® (å¯†ç ã€ç®¡ç†å‘˜è·¯å¾„)
- API é…ç½® (æ¨¡å‹ã€è¶…æ—¶)
- é…é¢é™åˆ¶
- å›¾ç‰‡å‚æ•°
- ç¦ç”¨è¯é¢„è®¾

**ç‰¹ç‚¹**:
- ç¯å¢ƒå˜é‡ä¼˜å…ˆ
- é…ç½®éªŒè¯
- ç±»å‹å®‰å…¨

### 3. è§„åˆ™å¼•æ“ (rules.py)

**èŒè´£**: å†…å®¹åˆè§„æ€§æ£€æŸ¥

**æ ¸å¿ƒå‡½æ•°**:

```python
apply_replacements(text)      # æ•æ„Ÿè¯æ›¿æ¢
check_absolute_bans(text)     # ç¦ç”¨è¯æ£€æŸ¥
build_negative_prompt(items)  # è´Ÿå‘è¯æ„å»º
```

**è§„åˆ™ç±»å‹**:
1. **æ›¿æ¢è§„åˆ™**: Gold â†’ Golden
2. **ç¦ç”¨è§„åˆ™**: URLã€QRç ç­‰
3. **è´Ÿå‘è§„åˆ™**: äººè„¸ã€å“ç‰Œç­‰

### 4. Gemini å®¢æˆ·ç«¯ (gemini_client.py)

**èŒè´£**: AI èƒ½åŠ›å°è£…

**æ ¸å¿ƒç±»**: `GeminiImageClient`

**ä¸»è¦æ–¹æ³•**:

```python
analyze_product_image(image)           # åˆ†æå›¾ç‰‡
    â†’ ProductAnalysis                  # è¿”å›åˆ†æç»“æœ

generate_image_from_reference(         # ç”Ÿæˆå›¾ç‰‡
    reference_image,
    prompt,
    negative_prompt,
    style_strength
) â†’ GeminiImageResult                  # è¿”å›ç”Ÿæˆç»“æœ
```

**æ•°æ®ç±»**:
- `ProductAnalysis`: åˆ†æç»“æœ
- `GeminiImageResult`: ç”Ÿæˆç»“æœ

### 5. æ¨¡æ¿ç³»ç»Ÿ (templates.py)

**èŒè´£**: æç¤ºè¯æ¨¡æ¿ç®¡ç†

**æ¨¡æ¿åˆ—è¡¨**:
- **C1 - ä¸»å–ç‚¹å›¾**: çªå‡ºäº§å“æ ¸å¿ƒä¼˜åŠ¿
- **C2 - åœºæ™¯å›¾**: å±•ç¤ºä½¿ç”¨åœºæ™¯
- **C3 - ç»†èŠ‚å›¾**: å±•ç°å·¥è‰ºç»†èŠ‚
- **C4 - å¯¹æ¯”å›¾**: å¯¹æ¯”äº§å“ä¼˜åŠ¿
- **C5 - è§„æ ¼å›¾**: å‚æ•°ä¿¡æ¯å±•ç¤º

**æ¨¡æ¿å˜é‡**:
```
{product_name}      å•†å“åç§°
{product_type}      å•†å“ç±»å‹
{material}          æè´¨
{selling_points}    å–ç‚¹
{scene}             åœºæ™¯
{detail_focus}      ç»†èŠ‚é‡ç‚¹
{dimensions}        å°ºå¯¸
{compare_points}    å¯¹æ¯”ç‚¹
{title}             æ ‡é¢˜
```

### 6. ä½¿ç”¨é‡è¿½è¸ª (usage_tracker.py)

**èŒè´£**: é…é¢ç®¡ç†å’Œç»Ÿè®¡

**æ ¸å¿ƒç±»**: `UsageTracker`

**ä¸»è¦åŠŸèƒ½**:
- ç”¨æˆ·æ ‡è¯†ç”Ÿæˆ
- ä½¿ç”¨é‡ç»Ÿè®¡
- é…é¢æ£€æŸ¥
- æ•°æ®æŒä¹…åŒ–

**æ•°æ®ç»“æ„**:
```json
{
  "2024-01-08": {
    "user_abc123": 15,
    "user_def456": 23
  }
}
```

## ğŸ”„ æ•°æ®æµ

### å›¾ç‰‡ç”Ÿæˆæµç¨‹

```
1. ç”¨æˆ·ä¸Šä¼ 
   â”‚
   â”œâ”€ å›¾ç‰‡æ–‡ä»¶ (PNG/JPG)
   â”‚
   â–¼
2. ä¿¡æ¯å¡«å†™
   â”‚
   â”œâ”€ å•†å“åç§°
   â”œâ”€ å•†å“ç±»å‹
   â””â”€ æè´¨
   â”‚
   â–¼
3. è§„åˆ™æ£€æŸ¥
   â”‚
   â”œâ”€ æ•æ„Ÿè¯æ›¿æ¢ (rules.py)
   â”œâ”€ ç¦ç”¨è¯æ£€æŸ¥
   â””â”€ è´Ÿå‘è¯æ„å»º
   â”‚
   â–¼
4. AI åˆ†æ
   â”‚
   â”œâ”€ Gemini Vision åˆ†æ
   â”œâ”€ æå–äº§å“ç‰¹å¾
   â”œâ”€ è¯†åˆ«æè´¨
   â””â”€ æ¨èåœºæ™¯
   â”‚
   â–¼
5. æ¨¡æ¿å¤„ç†
   â”‚
   â”œâ”€ é€‰æ‹©æ¨¡æ¿ (C1-C5)
   â”œâ”€ å˜é‡æ›¿æ¢
   â””â”€ ç”Ÿæˆæç¤ºè¯
   â”‚
   â–¼
6. å›¾ç‰‡ç”Ÿæˆ
   â”‚
   â”œâ”€ Gemini å›¾ç”Ÿå›¾
   â”œâ”€ åº”ç”¨é£æ ¼å¼ºåº¦
   â””â”€ åº”ç”¨è´Ÿå‘çº¦æŸ
   â”‚
   â–¼
7. åå¤„ç†
   â”‚
   â”œâ”€ å°ºå¯¸è°ƒæ•´
   â”œâ”€ æ ¼å¼è½¬æ¢
   â””â”€ æ‰“åŒ…ä¸‹è½½
   â”‚
   â–¼
8. ç»Ÿè®¡æ›´æ–°
   â”‚
   â””â”€ æ›´æ–°ä½¿ç”¨é‡
```

## ğŸ” å®‰å…¨æ¶æ„

### è®¤è¯å±‚çº§

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         è®¿é—®å¯†ç  (ACCESS_PASSWORD)    â”‚
â”‚         - æ‰€æœ‰ç”¨æˆ·å…±äº«                â”‚
â”‚         - åŸºç¡€è®¿é—®æƒé™                â”‚
â”‚         - é…é¢é™åˆ¶                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â”œâ”€ æ™®é€šç”¨æˆ·
                  â”‚  â””â”€ æ¯æ—¥é…é¢é™åˆ¶
                  â”‚
                  â””â”€ ä½¿ç”¨ä¸ªäºº API Key
                     â””â”€ æ— é…é¢é™åˆ¶
                     
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        ç®¡ç†å‘˜å¯†ç  (ADMIN_PASSWORD)    â”‚
â”‚        - ç®¡ç†å‘˜æƒé™                   â”‚
â”‚        - æŸ¥çœ‹ç»Ÿè®¡                     â”‚
â”‚        - æ¸…ç©ºæ•°æ®                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ•°æ®éš”ç¦»

- **Session éš”ç¦»**: æ¯ä¸ªç”¨æˆ·ç‹¬ç«‹ session
- **æ•°æ®éš”ç¦»**: ç”¨æˆ· ID åŸºäº session ç”Ÿæˆ
- **é…é¢éš”ç¦»**: ç‹¬ç«‹è®¡ç®—æ¯ä¸ªç”¨æˆ·é…é¢

## ğŸ“¦ éƒ¨ç½²æ¶æ„

### Docker æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Docker Container             â”‚
â”‚                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚    Streamlit App           â”‚     â”‚
â”‚  â”‚    (Port 8501)             â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                â”‚                     â”‚
â”‚                â–¼                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚    Data Volume             â”‚     â”‚
â”‚  â”‚    /data                   â”‚     â”‚
â”‚  â”‚    - usage.json            â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Host Machine                    â”‚
â”‚      ./data (mounted)                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ–‡ä»¶æŒä¹…åŒ–

```
å®¹å™¨å†…éƒ¨ (/data)      â†â†’      ä¸»æœº (./data)
    â”‚                           â”‚
    â”œâ”€ usage.json              â”œâ”€ usage.json
    â””â”€ (å…¶ä»–æ•°æ®)               â””â”€ (å…¶ä»–æ•°æ®)
```

## ğŸ”§ é…ç½®æ¶æ„

### é…ç½®ä¼˜å…ˆçº§

```
1. ç¯å¢ƒå˜é‡ (.env æ–‡ä»¶)
   â†“ (å¦‚æœæœªè®¾ç½®)
2. é»˜è®¤å€¼ (config.py)
   â†“
3. è¿è¡Œæ—¶é…ç½®
```

### é…ç½®æ¥æº

```
Docker Compose
    â†“
environment:
    â†“
.env æ–‡ä»¶
    â†“
Config ç±»é»˜è®¤å€¼
```

## ğŸ¯ æ€§èƒ½ä¼˜åŒ–

### ç¼“å­˜ç­–ç•¥

```python
@st.cache_resource
def get_tracker():
    return UsageTracker()  # å•ä¾‹æ¨¡å¼

@st.cache_resource
def get_gemini_client(api_key):
    return GeminiImageClient(api_key)  # å¤ç”¨è¿æ¥
```

### èµ„æºç®¡ç†

- **è¿æ¥å¤ç”¨**: Gemini Client å•ä¾‹
- **å›¾ç‰‡å‹ç¼©**: ç¼©ç•¥å›¾æ˜¾ç¤º
- **æ‰¹é‡å¤„ç†**: æ”¯æŒå¤šå›¾ä¸Šä¼ 
- **å¼‚æ­¥å¤„ç†**: (æœªæ¥æ”¹è¿›ç‚¹)

## ğŸ“Š ç›‘æ§ç‚¹

### å…³é”®æŒ‡æ ‡

1. **ä½¿ç”¨é‡ç»Ÿè®¡**
   - æ¯æ—¥ç”Ÿæˆæ•°é‡
   - æ´»è·ƒç”¨æˆ·æ•°
   - ç”¨æˆ·ä½¿ç”¨åˆ†å¸ƒ

2. **æ€§èƒ½æŒ‡æ ‡**
   - API å“åº”æ—¶é—´
   - å›¾ç‰‡ç”Ÿæˆæ—¶é—´
   - ç³»ç»Ÿè´Ÿè½½

3. **é”™è¯¯ç›‘æ§**
   - API è°ƒç”¨å¤±è´¥
   - ç”Ÿæˆå¤±è´¥ç‡
   - ç³»ç»Ÿå¼‚å¸¸

## ğŸ”® æ‰©å±•æ€§

### æ°´å¹³æ‰©å±•

```
Load Balancer
    â”‚
    â”œâ”€ Container 1
    â”œâ”€ Container 2
    â””â”€ Container 3
         â”‚
         â–¼
    Shared Storage
    (Redis/Database)
```

### åŠŸèƒ½æ‰©å±•

- [ ] æ”¯æŒæ›´å¤šæ¨¡å‹
- [ ] æ‰¹é‡å¤„ç†ä¼˜åŒ–
- [ ] ç»“æœç¼“å­˜
- [ ] ä»»åŠ¡é˜Ÿåˆ—
- [ ] åˆ†å¸ƒå¼éƒ¨ç½²

---

**æ ¸å¿ƒä½œè€…: ä¼é¹…** | TEMU æ™ºèƒ½å‡ºå›¾ç³»ç»Ÿ V6.5
